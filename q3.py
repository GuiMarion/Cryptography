# coding: utf-8

def ExpBinMod(m,e,N):

		e = list("{0:b}".format(e))
		t = len(e)
		b = 1
		for i in range(t):
			b = (b**2) % N
			if (e[i] == '1'):
				b = (b * m) % N

		return b

def Euclide(a, b):
	# return (x1, x2, x3)
	# With x1 PGCD(a,b)
	# x2 first bezout coef
	# x3 second bezout coef

	(a, u0, v0, b, u1, v1) = (a, 1, 0, b, 0, 1)

	while b != 0:
		(a_pred, u0_pred, v0_pred, b_pred, u1_pred, v1_pred) = (a, u0, v0, b, u1, v1)
		q = int(a // b)
		a = b_pred
		u0 = u1_pred
		v0 = v1_pred
		b = a_pred - q*b_pred
		u1 = u0_pred - q*u1_pred
		v1 = v0_pred - q*v1_pred

	return (u0, v0)

def Question3(c1,c2,u,v,N):

		m = ExpBinMod(c1,u,N) * ExpBinMod(c2,v,N)
		
		return m




N=92200121262044299997030940959746292652347853747005966965793562291726988106981726194827369585396584529267316043111903244760282653563760193127134230337784512660737720603311504018490039043610298564338531903554351795787709041935662599481278139042533278107935005730040464450225495889083227864564652032184479849506672106074011704568126733789917287723651710532416539557348074294735323119076096823758973375127352428368618373755807037024901752197140701722975334981097370206291887176681284567190932504175539796391114924595292845877630130613888674954418665536571528145251649706032810685133946539314821320220271357611484598893687658544778980036183345093487141966904733723939599850194416883349722340887556689814242539077072512565611311074882037436831979664670235812836614105622418578154276497835378072441855660851551071939959289746858261998040314020355606975774269066804719421570526857876377340238312893394068900903021115947508064565086828099946474169272176054399060475978667640058935443040022025086159628191880027364571537874016487099887138657706171845663975968663097389778893589919113205058811696708454119214046588148037568050601745425002469365774610535008795707297044117207857893728941280308375383879961084162707

e1=75361055127037424944428386662766507204848908581969374919259308749444751112397077868979145413253026843423091700880452590387667881988953244255878725781674546249202103153512662574909176288287250737940508772813359641838787856413659941755981242984904831477537841982366469211065852624435528189871123924101631631016683180674054741343403143647388111498855634273189488470597402998112887921787800036126219291794163086720437751697863524862066011383064525372916441936100778085912668236329861186171088003594187593153411365660648957575827047247692912246496509336132896046904227278221310514403064204312492555855426218310498783812715540388299358510555545457113926144770493335172581012751927513571193240533082101331891496094437886273785271456150711891925056918699732186579836520469518845267788402758721190598581015629735207993209405013107762699499134193416018387108694148952630512485063171137158701132025709522140203222230456112404918807495084035345531761719906290626096527316971672579571705359837104833006410654285165808901334010353174231065483089714575305661490952102258411405333864955810262653916002452701032352127799951985384645256394231525430734353052091218291132611774712535480285925097573012507091026383285268527

e2=54450925338389218484781548938423900172624485247757417443657604459094622907373498499407870693738067899860183068812932385954429514539244660899615696074268900154859071294615743920540671110035998580605921813242878651928249966417402186043302676894464081482476050678977103861385401877884554730721290406282746457420186284872987251079281380485225662195337901373489205837306833529015047229558260838617389765493305442508175387467758458412722460208550226543760732389439366338212701151668892161428844947260341030825814162168237160162755759685385490782302675568765989183515973961122485664324733200358583436704441305464789269178847314140887676839857120451509781178512218227069265629323367972142154733722401255419904626247508753459431242284126203358757382370880714284713006397122779269630835209288806674125529493630975200048663010363201278027759325403563130691073810563713573667110254067287836373500333357145744223116279265872814056734488165740626986998516139868943378876011974445313476051263608884375097238279250702541254570741650572598426645750635117424705995235354555380963768604765085107142600863616550370444474918526581122508458649658989105699479399828617236765041151465996360120391206480317394402572421869603849

#c1=87889773202867800263811400013537234310406815376918395743851959812137970872362027935653797119886277731356440988725759904455515957313474436842686535292862956008426172474030135448091155351833660288784290073958611675846795415351820713881239040816598991889944316454321484354946941939029823308768764225098828089505484266037936367872284048620136228959002937938980614077496035647184477267194432686185659430439792425627151277150323348403165255725950365694539118120024690430634165156179209571080977908094249488757142724333704477816012122450477654739334536401656534464664394918202073949943375222064544985004747318758984968897353943226477612426595599925665752006326197049841524896010142697870641143777440052691421047711771096627929518992887985723119957946352907754771064401574947661735596027211131859332387966226387393960888176563079162928586127018050194309205451483203541256161879899559442926049892589300563788153314511171979547710428299588524546455912957542296450625075859373804160424860256420056423098981205340916393577573633870311637378428042251391589249621400796724277463357202076741828181989425304076943662862574020726609182774929403258481258119909399652694829981415321747544805028546892084064146025937879948

#c2=79206528486868073584268159079905241789644836863017093676768586614991301344778386371056881154466035803019162450386314572878169439878924214568388604839364361790212965290107846855554627305268207103330064146467906110306910922939709404629220988790758816555404510489558469461848770820883933470058746996165011276821062300673834686280642236057051302223204735693916550305980958203675420271876045880968342782823994600796009395880806940118974534058080815387535012998987053246047647898397605868949601210028828295470597593045457182753718858117097728228813037807241063393617631210175422418902675876826163069557814264179835692674384543835602731100556176866146809119695791308113772163958079605803065898617178896310973356561967578621892293326938060391459010645598080725082187864832151695561949154734442752522267966377890784216014475821526658996254566272770047715183438208091605142496625693412140923959416784969442848575311145785613521649358573048566425299458786338650743170692114764366760689414197632520643770232502479205641789981356530367201421825225749699041671245295023569255969406783002067237109135155911085575697393753725389302329078985759417019827865541009404636810195256922099001969410345060549366626333306854930

c1 = ExpBinMod(1000,e1,N)

c2 = ExpBinMod(1000,e2,N)

(u,v)=Euclide(e1,e2)
 
print(Question3(c1,c2,u,v,N))

#Resultat = 1995483841464659081647928959300485951641473340908036011380738066403181865929109949442571208112683648447197595092017942671494919294423657130642340124541171004150339795258940391257951632125507940572019713977337599200497657604353394450100013566745330561170156150374092010479782067695524212401519485656767487291795239466132767946148691960353063238552354672915828527558378556581322209513393912561191798180171727132962281844191376583444106158072993599440060298926733282776983384533319480518948831774824620731398062159497749007367953330873888951252323776776328856216601833963061486523049858887245545501968846916820514008571659697264384317948697003222957405705067538366390424564636070942199448223347735991296824844741840506179703021172932474124107372805541615653917099147646341070709871479483479397669940190707821701868772001679507225718135794553488374930530425406920244991989811287073975496476673665389469788656325588885906902314781191984978453026258773587790251579283156482326770445873614074484614618681757128623954655404736669343002164144101034415196315400397864750730739178734903313326861906017082029992146390318070114798579171368121359350457915163145376234747701840186013025189596342977261548463202048569632203879469317732431269843714425284216849425612079353086789400549850825008472303372692123645576273107859828029397662995402171920141079167339034587865293852232068666644948129103927610538937291787083311535592692544082931458749706997328871791900397099200044144397313954148387821555540048583897214733625012250399190814554458154996786851136063010824904113613918779178181271412203854711876244146077409481368717870284781471891655162574791482225901490249966169501256689667640277426641154195650929274144128399737897569576020964030135523609749053381358375964497399110899745243581644082210393086537318945525795319091116197801157143033160521572106734089744255675976329711441414244394938720134854051669304294840740698491483223763949836853237671731874265526660236378117095713724627895593385565573730547476276658888218895761418688552442579248874791424741733898645133762568639433567475749469412394819334273769735745225232266988978230099298548641168750362037021597356640871479598016081166480102420612245673370058787498745843396269966247048978207203580957974003988186497284896990896292775882527703326766636500486705195974972653670400291288442275179912527799074832792801245720424407010527287005117240721149198559124208291





